<html lang="en" ng-app="SmittenApp">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <script
         src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular.min.js"
         charset="utf-8"
      ></script>
      <link rel="stylesheet" href="/css/style.css" />
      <script src="/js/app.js"></script>
      <title>Smitten</title>
   </head>
   <body ng-controller="MainController as ctrl">
       <div ng-if="!ctrl.currentUser">
          <h2>Create User</h2>
          <form ng-submit="ctrl.createUser()">
             <input type="text" ng-model="ctrl.newUsername" />
             <input type="password" ng-model="ctrl.newPassword" />
             <input type="submit" value="Create User" />
          </form>
          <h2>Log In</h2>
          <form ng-submit="ctrl.logIn()">
             <input type="text" ng-model="ctrl.username" />
             <input type="password" ng-model="ctrl.password" />
             <input type="submit" value="Log In" />
          </form>
       </div>
       <div ng-if="ctrl.currentUser">
          <h2>Welcome, {{ ctrl.currentUser.username }}</h2>
          <button ng-click="ctrl.logOut()">Log Out</button>
          <div ng-if="!ctrl.isEditing && !ctrl.isBrowsing">
             <div class="profile">
                <button ng-click="ctrl.toggleEditing()">Edit Profile</button>
                <button ng-click="ctrl.deleteProfile()">Delete Profile</button>
                <button ng-click="ctrl.toggleBrowsing()">Browse Profiles</button><br>
                <img ng-src="{{ ctrl.currentUser.imgURL }}" alt="Profile Picture" />
                <p>Name: {{ ctrl.currentUser.info.name }}</p>
                <p>Age: {{ ctrl.currentUser.info.age }}</p>
                <p>Height: {{ ctrl.currentUser.info.height }}</p>
                <p>Location: {{ ctrl.currentUser.info.location }}</p>
                <p>Bio: {{ ctrl.currentUser.info.bio }}</p>
             </div>
          </div>
          <div ng-if="ctrl.isEditing" ng-include="'partials/edit_profile.html'"></div>
          <div ng-if="ctrl.isBrowsing" ng-include="'partials/browse_profiles.html'"></div>
       </div>
   </body>
</html>
